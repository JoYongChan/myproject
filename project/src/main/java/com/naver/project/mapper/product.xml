<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.naver.project.service.ProductDAO">
	<resultMap type="com.naver.project.entities.Product"
		id="productMap">
	</resultMap>
	<resultMap type="com.naver.project.entities.ProductStock"
		id="productStockMap">
	</resultMap>

	<select id="selectProductAll" resultMap="productMap">
		select * from product
	</select>

	<select id="selectUsingProcode" parameterType="String"
		resultType="int">
		select count(*) from product where procode=#{procode}
	</select>

	<insert id="productInsertRow" parameterType="HashMap">
		insert into product
		(procode, proname, capacity
		) values (
		#{procode, jdbcType=VARCHAR},
		#{proname, jdbcType=VARCHAR}, #{capacity, jdbcType=VARCHAR}
		)
	</insert>

	<select id="selectOneUsingProcode" parameterType="String"
		resultMap="productMap">
		select * from product where procode=#{procode}
	</select>

	<select id="selectProductStockAll" resultMap="productStockMap">
		select * from
		productstock
	</select>

	<insert id="productstockInsertRow" parameterType="HashMap">
		insert into
		productstock
		(stockid, procode, year, month, day, preddstock, decstock,
		incstock, curstock
		) values (
		#{stockid, jdbcType=VARCHAR}, #{procode, jdbcType=VARCHAR},
		#{year, jdbcType=VARCHAR}, #{month, jdbcType=VARCHAR},
		#{day, jdbcType=VARCHAR}, #{preddstock,	jdbcType=INTEGER},
		#{decstock,	jdbcType=INTEGER}, #{incstock, jdbcType=INTEGER},
		#{curstock,	jdbcType=INTEGER})
	</insert>
</mapper>